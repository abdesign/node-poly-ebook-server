<html><head><link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/paper-styles/color.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">

<link rel="import" href="long-tap-behavior.html">


</head><body><dom-module id="detail-dialog">
    <template>
        <style is="custom-style">.layout.horizontal,
            .layout.horizontal-reverse,
            .layout.vertical,
            .layout.vertical-reverse{display:-ms-flexbox;display:-webkit-flex;display:flex;}.layout.horizontal{-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;}paper-fab{cursor:pointer;color:var(--fab-text-color);}paper-fab:hover{color:var(--fab-text-hover-color);}paper-fab.pink{background:var(--pink-color);}paper-fab.blue{background:var(--blue-color);}</style>

        <paper-dialog id="detailDialog" modal="">
            <p>[[_computeLabel(file)]]</p>
            <p>[[file]]</p>

            <p><iron-image sizing="cover" style="[[thumbCss]]" src="[[_computeImgUrl(file)]]"></iron-image></p>

            <div class="detail horizontal layout">
                <a href="../[[file]]" target="_blank">
                    <paper-fab mini="" icon="file-download" class="pink"></paper-fab>
                </a>
                <paper-fab mini="" hidden$="[[!deleteVisible]]" icon="delete" class="blue deleteIcon" on-tap="deleteFile"></paper-fab>
                <paper-fab mini="" hidden$="[[!copyVisible]]" icon="content-copy" class="blue copyIcon" on-tap="copyFile"></paper-fab>
                <paper-fab mini="" hidden$="[[!sendLinkVisible]]" icon="send" class="blue" on-tap="sendLink"></paper-fab>
                <paper-fab mini="" hidden$="[[!sendAttachmentVisible]]" icon="attachment" class="blue copyIcon" on-tap="sendAttachment"></paper-fab>
            </div>


            <div class="buttons">
                <paper-button raised="" dialog-confirm="" autofocus="" icon="close"><iron-icon icon="close"></iron-icon> Close</paper-button>
            </div>
        </paper-dialog>

    </template>


    <script>HTMLImports.whenReady(function(){Polymer({is:"detail-dialog",properties:{file:Object,deleteVisible:{type:Boolean,value:!1},copyVisible:{type:Boolean,value:!1},sendLinkVisible:{type:Boolean,value:!1},sendAttachmentVisible:{type:Boolean,value:!1},thumbCss:{type:String,value:""}},open:function(){this.$.detailDialog.open()},deleteFile:function(e,t,i){this.fire("detailAction",{file:this.file,method:"delete"})},copyFile:function(e,t,i){this.fire("detailAction",{file:this.file,method:"copy"})},sendAttachment:function(e,t,i){this.fire("detailAction",{file:this.file,method:"sendattachment"})},sendLink:function(e,t,i){this.fire("detailAction",{file:this.file,method:"sendlink"})},_computeTitle:function(e){return e.substring(1+e.lastIndexOf("/"))},_computeLabel:function(e){var t=Math.max(e.lastIndexOf("\\"),e.lastIndexOf("/"))+1;return e.substr(t)},_computeImgUrl:function(e){var t=e.replace("file/","img/");return t=t.substr(0,t.lastIndexOf("."))+".jpg"}})});</script>


</dom-module></body></html>