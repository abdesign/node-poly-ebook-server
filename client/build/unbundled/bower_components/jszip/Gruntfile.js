"use strict";module.exports=function(e){var r=[{browserName:"iphone",platform:"OS X 10.8",version:"6"},{browserName:"iphone",platform:"OS X 10.10",version:"9.2"},{browserName:"android",platform:"Linux",version:"4.0"},{browserName:"android",platform:"Linux",version:"4.4"},{browserName:"android",platform:"Linux",version:"5.1"},{browserName:"firefox",platform:"Windows 10"},{browserName:"chrome",platform:"Windows 10"},{browserName:"internet explorer",platform:"XP",version:"6"},{browserName:"internet explorer",platform:"XP",version:"7"},{browserName:"internet explorer",platform:"Windows 7",version:"8"},{browserName:"internet explorer",platform:"Windows 7",version:"9"},{browserName:"internet explorer",platform:"Windows 8",version:"10"},{browserName:"internet explorer",platform:"Windows 10",version:"11"},{browserName:"MicrosoftEdge",platform:"Windows 10",version:"13"},{browserName:"opera",platform:"Windows 2008",version:"12"},{browserName:"safari",platform:"OS X 10.8",version:"6"},{browserName:"safari",platform:"OS X 10.9",version:"7"},{browserName:"safari",platform:"OS X 10.10",version:"8"},{browserName:"safari",platform:"OS X 10.11",version:"9"}],s=[];process.env.TRAVIS_PULL_REQUEST&&"false"!=process.env.TRAVIS_PULL_REQUEST?s.push("pr"+process.env.TRAVIS_PULL_REQUEST):process.env.TRAVIS_BRANCH&&s.push(process.env.TRAVIS_BRANCH),e.initConfig({connect:{server:{options:{base:"",port:9999}}},"saucelabs-qunit":{all:{options:{urls:["http://127.0.0.1:9999/test/index.html"],build:process.env.TRAVIS_JOB_ID,throttled:3,"max-duration":600,browsers:r,testname:"qunit tests",tags:s}}},jshint:{options:e.file.readJSON(".jshintrc"),production:["./lib/**/*.js"],test:["./test/helpers/**/*.js","./test/asserts/**/*.js"],documentation:{options:{globals:{jQuery:!1,JSZip:!1,JSZipUtils:!1,saveAs:!1},strict:!1},files:{src:["./documentation/**/*.js"]}}},browserify:{all:{files:{"dist/jszip.js":["lib/index.js"]},options:{browserifyOptions:{standalone:"JSZip",insertGlobalVars:{Buffer:function(){return'(typeof Buffer !== "undefined" ? Buffer : undefined)'}}},ignore:["./lib/nodejs/*"],banner:e.file.read("lib/license_header.js")}}},uglify:{options:{mangle:!0,preserveComments:!1,banner:e.file.read("lib/license_header.js")},all:{src:"dist/jszip.js",dest:"dist/jszip.min.js"}}}),e.loadNpmTasks("grunt-saucelabs"),e.loadNpmTasks("grunt-contrib-connect"),e.loadNpmTasks("grunt-browserify"),e.loadNpmTasks("grunt-contrib-jshint"),e.loadNpmTasks("grunt-contrib-uglify"),process.env.SAUCE_USERNAME&&process.env.SAUCE_ACCESS_KEY?e.registerTask("test",["connect","saucelabs-qunit"]):e.registerTask("test",[]),e.registerTask("build",["browserify","uglify"]),e.registerTask("default",["jshint","build"])};