!function(){var e,n,t,r;!function(){var o={},i={};e=function(e,n,t){o[e]={deps:n,callback:t}},r=t=n=function(e){function t(n){if("."!==n.charAt(0))return n;for(var t=n.split("/"),r=e.split("/").slice(0,-1),o=0,i=t.length;i>o;o++){var a=t[o];if(".."===a)r.pop();else{if("."===a)continue;r.push(a)}}return r.join("/")}if(r._eak_seen=o,i[e])return i[e];if(i[e]={},!o[e])throw new Error("Could not find module "+e);for(var a,u=o[e],c=u.deps,s=u.callback,f=[],l=0,d=c.length;d>l;l++)"exports"===c[l]?f.push(a={}):f.push(n(t(c[l])));var v=s.apply(this,f);return i[e]=a||v}}(),e("promise/all",["./utils","exports"],function(e,n){"use strict";function t(e){var n=this;if(!r(e))throw new TypeError("You must pass an array to all.");return new n(function(n,t){function r(e){return function(n){i(e,n)}}function i(e,t){u[e]=t,0===--c&&n(u)}var a,u=[],c=e.length;0===c&&n([]);for(var s=0;s<e.length;s++)a=e[s],a&&o(a.then)?a.then(r(s),t):i(s,a)})}var r=e.isArray,o=e.isFunction;n.all=t}),e("promise/asap",["exports"],function(e){"use strict";function n(){return function(){process.nextTick(o)}}function t(){var e=0,n=new c(o),t=document.createTextNode("");return n.observe(t,{characterData:!0}),function(){t.data=e=++e%2}}function r(){return function(){s.setTimeout(o,1)}}function o(){for(var e=0;e<f.length;e++){var n=f[e],t=n[0],r=n[1];t(r)}f=[]}function i(e,n){var t=f.push([e,n]);1===t&&a()}var a,u="undefined"!=typeof window?window:{},c=u.MutationObserver||u.WebKitMutationObserver,s="undefined"!=typeof global?global:void 0===this?window:this,f=[];a="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?n():c?t():r(),e.asap=i}),e("promise/config",["exports"],function(e){"use strict";function n(e,n){return 2!==arguments.length?t[e]:void(t[e]=n)}var t={instrument:!1};e.config=t,e.configure=n}),e("promise/polyfill",["./promise","./utils","exports"],function(e,n,t){"use strict";function r(){var e;e="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var n="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var n;return new e.Promise(function(e){n=e}),i(n)}();n||(e.Promise=o)}var o=e.Promise,i=n.isFunction;t.polyfill=r}),e("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,n,t,r,o,i,a,u){"use strict";function c(e){if(!_(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof c))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],s(e,this)}function s(e,n){function t(e){h(n,e)}function r(e){y(n,e)}try{e(t,r)}catch(o){r(o)}}function f(e,n,t,r){var o,i,a,u,c=_(t);if(c)try{o=t(r),a=!0}catch(s){u=!0,i=s}else o=r,a=!0;v(n,o)||(c&&a?h(n,o):u?y(n,i):e===N?h(n,o):e===k&&y(n,o))}function l(e,n,t,r){var o=e._subscribers,i=o.length;o[i]=n,o[i+N]=t,o[i+k]=r}function d(e,n){for(var t,r,o=e._subscribers,i=e._detail,a=0;a<o.length;a+=3)t=o[a],r=o[a+n],f(n,t,r,i);e._subscribers=null}function v(e,n){var t,r=null;try{if(e===n)throw new TypeError("A promises callback cannot return that same promise.");if(m(n)&&(r=n.then,_(r)))return r.call(n,function(r){return t?!0:(t=!0,void(n!==r?h(e,r):p(e,r)))},function(n){return t?!0:(t=!0,void y(e,n))}),!0}catch(o){return t?!0:(y(e,o),!0)}return!1}function h(e,n){e===n?p(e,n):v(e,n)||p(e,n)}function p(e,n){e._state===A&&(e._state=D,e._detail=n,w.async(g,e))}function y(e,n){e._state===A&&(e._state=D,e._detail=n,w.async(b,e))}function g(e){d(e,e._state=N)}function b(e){d(e,e._state=k)}var w=e.config,m=(e.configure,n.objectOrFunction),_=n.isFunction,E=(n.now,t.all),S=r.race,I=o.resolve,O=i.reject,x=a.asap;w.async=x;var A=void 0,D=0,N=1,k=2;c.prototype={constructor:c,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,n){var t=this,r=new this.constructor(function(){});if(this._state){var o=arguments;w.async(function(){f(t._state,r,o[t._state-1],t._detail)})}else l(this,r,e,n);return r},"catch":function(e){return this.then(null,e)}},c.all=E,c.race=S,c.resolve=I,c.reject=O,u.Promise=c}),e("promise/race",["./utils","exports"],function(e,n){"use strict";function t(e){var n=this;if(!r(e))throw new TypeError("You must pass an array to race.");return new n(function(n,t){for(var r,o=0;o<e.length;o++)r=e[o],r&&"function"==typeof r.then?r.then(n,t):n(r)})}var r=e.isArray;n.race=t}),e("promise/reject",["exports"],function(e){"use strict";function n(e){var n=this;return new n(function(n,t){t(e)})}e.reject=n}),e("promise/resolve",["exports"],function(e){"use strict";function n(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var n=this;return new n(function(n){n(e)})}e.resolve=n}),e("promise/utils",["exports"],function(e){"use strict";function n(e){return t(e)||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}var o=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=n,e.isFunction=t,e.isArray=r,e.now=o}),n("promise/polyfill").polyfill()}(),function(){"use strict";function e(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(t){if("TypeError"!==t.name)throw t;for(var r=E.BlobBuilder||E.MSBlobBuilder||E.MozBlobBuilder||E.WebKitBlobBuilder,o=new r,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(n.type)}}function n(e,n){var t="";if(e&&(t=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var r,i=c;e instanceof ArrayBuffer?(r=e,i+=f):(r=e.buffer,"[object Int8Array]"===t?i+=d:"[object Uint8Array]"===t?i+=v:"[object Uint8ClampedArray]"===t?i+=h:"[object Int16Array]"===t?i+=p:"[object Uint16Array]"===t?i+=g:"[object Int32Array]"===t?i+=y:"[object Uint32Array]"===t?i+=b:"[object Float32Array]"===t?i+=w:"[object Float64Array]"===t?i+=m:n(new Error("Failed to get type for BinaryArray"))),n(i+o(r))}else if("[object Blob]"===t){var u=new FileReader;u.onload=function(){var t=a+e.type+"~"+o(this.result);n(c+l+t)},u.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(s){console.error("Couldn't convert value into a JSON string: ",e),n(null,s)}}function t(n){if(n.substring(0,s)!==c)return JSON.parse(n);var t,o=n.substring(_),i=n.substring(s,_);if(i===l&&u.test(o)){var a=o.match(u);t=a[1],o=o.substring(a[0].length)}var E=r(o);switch(i){case f:return E;case l:return e([E],{type:t});case d:return new Int8Array(E);case v:return new Uint8Array(E);case h:return new Uint8ClampedArray(E);case p:return new Int16Array(E);case g:return new Uint16Array(E);case y:return new Int32Array(E);case b:return new Uint32Array(E);case w:return new Float32Array(E);case m:return new Float64Array(E);default:throw new Error("Unkown type: "+i)}}function r(e){var n,t,r,o,a,u=.75*e.length,c=e.length,s=0;"="===e[e.length-1]&&(u--,"="===e[e.length-2]&&u--);var f=new ArrayBuffer(u),l=new Uint8Array(f);for(n=0;c>n;n+=4)t=i.indexOf(e[n]),r=i.indexOf(e[n+1]),o=i.indexOf(e[n+2]),a=i.indexOf(e[n+3]),l[s++]=t<<2|r>>4,l[s++]=(15&r)<<4|o>>2,l[s++]=(3&o)<<6|63&a;return f}function o(e){var n,t=new Uint8Array(e),r="";for(n=0;n<t.length;n+=3)r+=i[t[n]>>2],r+=i[(3&t[n])<<4|t[n+1]>>4],r+=i[(15&t[n+1])<<2|t[n+2]>>6],r+=i[63&t[n+2]];return t.length%3===2?r=r.substring(0,r.length-1)+"=":t.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="~~local_forage_type~",u=/^~~local_forage_type~([^~]+)~/,c="__lfsc__:",s=c.length,f="arbf",l="blob",d="si08",v="ui08",h="uic8",p="si16",y="si32",g="ur16",b="ui32",w="fl32",m="fl64",_=s+f.length,E=this,S={serialize:n,deserialize:t,stringToBuffer:r,bufferToString:o};"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?module.exports=S:"function"==typeof define&&define.amd?define("localforageSerializer",function(){return S}):this.localforageSerializer=S}.call(window),function(){"use strict";function e(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(t){if("TypeError"!==t.name)throw t;for(var r=window.BlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder||window.WebKitBlobBuilder,o=new r,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(n.type)}}function n(e){for(var n=e.length,t=new ArrayBuffer(n),r=new Uint8Array(t),o=0;n>o;o++)r[o]=e.charCodeAt(o);return t}function t(e){return new b(function(n,t){var r=new XMLHttpRequest;r.open("GET",e),r.withCredentials=!0,r.responseType="arraybuffer",r.onreadystatechange=function(){return 4===r.readyState?200===r.status?n({response:r.response,type:r.getResponseHeader("Content-Type")}):void t({status:r.status,response:r.response}):void 0},r.send()})}function r(n){return new b(function(r,o){var i=e([""],{type:"image/png"}),a=n.transaction([_],"readwrite");a.objectStore(_).put(i,"key"),a.oncomplete=function(){var e=n.transaction([_],"readwrite"),i=e.objectStore(_).get("key");i.onerror=o,i.onsuccess=function(e){var n=e.target.result,o=URL.createObjectURL(n);t(o).then(function(e){r(!(!e||"image/png"!==e.type))},function(){r(!1)}).then(function(){URL.revokeObjectURL(o)})}}})["catch"](function(){return!1})}function o(e){return"boolean"==typeof m?b.resolve(m):r(e).then(function(e){return m=e})}function i(e){return new b(function(n,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");n({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function a(t){var r=n(atob(t.data));return e([r],{type:t.type})}function u(e){return e&&e.__local_forage_encoded_blob}function c(e){var n=this,t={db:null};if(e)for(var r in e)t[r]=e[r];return new b(function(e,r){var o=w.open(t.name,t.version);o.onerror=function(){r(o.error)},o.onupgradeneeded=function(e){o.result.createObjectStore(t.storeName),e.oldVersion<=1&&o.result.createObjectStore(_)},o.onsuccess=function(){t.db=o.result,n._dbInfo=t,e()}})}function s(e,n){var t=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new b(function(n,r){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),c=i.get(e);c.onsuccess=function(){var e=c.result;void 0===e&&(e=null),u(e)&&(e=a(e)),n(e)},c.onerror=function(){r(c.error)}})["catch"](r)});return g(r,n),r}function f(e,n){var t=this,r=new b(function(n,r){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),c=i.openCursor(),s=1;c.onsuccess=function(){var t=c.result;if(t){var r=t.value;u(r)&&(r=a(r));var o=e(r,t.key,s++);void 0!==o?n(o):t["continue"]()}else n()},c.onerror=function(){r(c.error)}})["catch"](r)});return g(r,n),r}function l(e,n,t){var r=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var a=new b(function(t,a){var u;r.ready().then(function(){return u=r._dbInfo,o(u.db)}).then(function(e){return!e&&n instanceof Blob?i(n):n}).then(function(n){var r=u.db.transaction(u.storeName,"readwrite"),o=r.objectStore(u.storeName);null===n&&(n=void 0);var i=o.put(n,e);r.oncomplete=function(){void 0===n&&(n=null),t(n)},r.onabort=r.onerror=function(){var e=i.error?i.error:i.transaction.error;a(e)}})["catch"](a)});return g(a,t),a}function d(e,n){var t=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new b(function(n,r){t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readwrite"),a=i.objectStore(o.storeName),u=a["delete"](e);i.oncomplete=function(){n()},i.onerror=function(){r(u.error)},i.onabort=function(){var e=u.error?u.error:u.transaction.error;r(e)}})["catch"](r)});return g(r,n),r}function v(e){var n=this,t=new b(function(e,t){n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readwrite"),i=o.objectStore(r.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;t(e)}})["catch"](t)});return g(t,e),t}function h(e){var n=this,t=new b(function(e,t){n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),i=o.count();i.onsuccess=function(){e(i.result)},i.onerror=function(){t(i.error)}})["catch"](t)});return g(t,e),t}function p(e,n){var t=this,r=new b(function(n,r){return 0>e?void n(null):void t.ready().then(function(){var o=t._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=!1,u=i.openCursor();u.onsuccess=function(){var t=u.result;return t?void(0===e?n(t.key):a?n(t.key):(a=!0,t.advance(e))):void n(null)},u.onerror=function(){r(u.error)}})["catch"](r)});return g(r,n),r}function y(e){var n=this,t=new b(function(e,t){n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),i=o.openCursor(),a=[];i.onsuccess=function(){var n=i.result;return n?(a.push(n.key),void n["continue"]()):void e(a)},i.onerror=function(){t(i.error)}})["catch"](t)});return g(t,e),t}function g(e,n){n&&e.then(function(e){n(null,e)},function(e){n(e)})}var b="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?require("promise"):this.Promise,w=w||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(w){var m,_="local-forage-detect-blob-support",E={_driver:"asyncStorage",_initStorage:c,iterate:f,getItem:s,setItem:l,removeItem:d,clear:v,length:h,key:p,keys:y};"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?module.exports=E:"function"==typeof define&&define.amd?define("asyncStorage",function(){return E}):this.asyncStorage=E}}.call(window),function(){"use strict";function e(e){var n=this,t={};if(e)for(var r in e)t[r]=e[r];t.keyPrefix=t.name+"/",n._dbInfo=t;var o=new f(function(e){y===p.DEFINE?require(["localforageSerializer"],e):e(y===p.EXPORT?require("./../utils/serializer"):l.localforageSerializer)});return o.then(function(e){return d=e,f.resolve()})}function n(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,t=v.length-1;t>=0;t--){var r=v.key(t);0===r.indexOf(e)&&v.removeItem(r)}});return s(t,e),t}function t(e,n){var t=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=t.ready().then(function(){var n=t._dbInfo,r=v.getItem(n.keyPrefix+e);return r&&(r=d.deserialize(r)),r});return s(r,n),r}function r(e,n){var t=this,r=t.ready().then(function(){for(var n=t._dbInfo.keyPrefix,r=n.length,o=v.length,i=1,a=0;o>a;a++){var u=v.key(a);if(0===u.indexOf(n)){var c=v.getItem(u);if(c&&(c=d.deserialize(c)),c=e(c,u.substring(r),i++),void 0!==c)return c}}});return s(r,n),r}function o(e,n){var t=this,r=t.ready().then(function(){var n,r=t._dbInfo;try{n=v.key(e)}catch(o){n=null}return n&&(n=n.substring(r.keyPrefix.length)),n});return s(r,n),r}function i(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo,t=v.length,r=[],o=0;t>o;o++)0===v.key(o).indexOf(e.keyPrefix)&&r.push(v.key(o).substring(e.keyPrefix.length));return r});return s(t,e),t}function a(e){var n=this,t=n.keys().then(function(e){return e.length});return s(t,e),t}function u(e,n){var t=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=t.ready().then(function(){var n=t._dbInfo;v.removeItem(n.keyPrefix+e)});return s(r,n),r}function c(e,n,t){var r=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=r.ready().then(function(){void 0===n&&(n=null);var t=n;return new f(function(o,i){d.serialize(n,function(n,a){if(a)i(a);else try{var u=r._dbInfo;v.setItem(u.keyPrefix+e,n),o(t)}catch(c){("QuotaExceededError"===c.name||"NS_ERROR_DOM_QUOTA_REACHED"===c.name)&&i(c),i(c)}})})});return s(o,t),o}function s(e,n){n&&e.then(function(e){n(null,e)},function(e){n(e)})}var f="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?require("promise"):this.Promise,l=this,d=null,v=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;v=this.localStorage}catch(h){return}var p={DEFINE:1,EXPORT:2,WINDOW:3},y=p.WINDOW;"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?y=p.EXPORT:"function"==typeof define&&define.amd&&(y=p.DEFINE);var g={_driver:"localStorageWrapper",_initStorage:e,iterate:r,getItem:t,setItem:c,removeItem:u,clear:n,length:a,key:o,keys:i};y===p.EXPORT?module.exports=g:y===p.DEFINE?define("localStorageWrapper",function(){return g}):this.localStorageWrapper=g}.call(window),function(){"use strict";function e(e){var n=this,t={db:null};if(e)for(var r in e)t[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new f(function(e){p===h.DEFINE?require(["localforageSerializer"],e):e(p===h.EXPORT?require("./../utils/serializer"):l.localforageSerializer)}),i=new f(function(r,o){try{t.db=v(t.name,String(t.version),t.description,t.size)}catch(i){return n.setDriver(n.LOCALSTORAGE).then(function(){return n._initStorage(e)}).then(r)["catch"](o)}t.db.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){n._dbInfo=t,r()},function(e,n){o(n)})})});return o.then(function(e){return d=e,i})}function n(e,n){var t=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new f(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,t){var r=t.rows.length?t.rows.item(0).value:null;r&&(r=d.deserialize(r)),n(r)},function(e,n){r(n)})})})["catch"](r)});return s(r,n),r}function t(e,n){var t=this,r=new f(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT * FROM "+o.storeName,[],function(t,r){for(var o=r.rows,i=o.length,a=0;i>a;a++){var u=o.item(a),c=u.value;if(c&&(c=d.deserialize(c)),c=e(c,u.key,a+1),void 0!==c)return void n(c)}n()},function(e,n){r(n)})})})["catch"](r)});return s(r,n),r}function r(e,n,t){var r=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new f(function(t,o){r.ready().then(function(){void 0===n&&(n=null);var i=n;d.serialize(n,function(n,a){if(a)o(a);else{var u=r._dbInfo;u.db.transaction(function(r){r.executeSql("INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){t(i)},function(e,n){o(n)})},function(e){e.code===e.QUOTA_ERR&&o(e)})}})})["catch"](o)});return s(o,t),o}function o(e,n){var t=this;"string"!=typeof e&&(window.console.warn(e+" used as a key, but it is not a string."),e=String(e));var r=new f(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){n()},function(e,n){r(n)})})})["catch"](r)});return s(r,n),r}function i(e){var n=this,t=new f(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("DELETE FROM "+r.storeName,[],function(){e()},function(e,n){t(n)})})})["catch"](t)});return s(t,e),t}function a(e){var n=this,t=new f(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(n,t){var r=t.rows.item(0).c;e(r)},function(e,n){t(n)})})})["catch"](t)});return s(t,e),t}function u(e,n){var t=this,r=new f(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){t.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,t){var r=t.rows.length?t.rows.item(0).key:null;n(r)},function(e,n){r(n)})})})["catch"](r)});return s(r,n),r}function c(e){var n=this,t=new f(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT key FROM "+r.storeName,[],function(n,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o).key);e(r)},function(e,n){t(n)})})})["catch"](t)});return s(t,e),t}function s(e,n){n&&e.then(function(e){n(null,e)},function(e){n(e)})}var f="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?require("promise"):this.Promise,l=this,d=null,v=this.openDatabase;if(v){var h={DEFINE:1,EXPORT:2,WINDOW:3},p=h.WINDOW;"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?p=h.EXPORT:"function"==typeof define&&define.amd&&(p=h.DEFINE);var y={_driver:"webSQLStorage",_initStorage:e,iterate:t,getItem:n,setItem:r,removeItem:o,clear:i,length:a,key:u,keys:c};p===h.DEFINE?define("webSQLStorage",function(){return y}):p===h.EXPORT?module.exports=y:this.webSQLStorage=y}}.call(window),function(){"use strict";function e(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function n(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(v(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}function t(e){for(var n in a)if(a.hasOwnProperty(n)&&a[n]===e)return!0;return!1}function r(t){this._config=n({},f,t),this._driverSet=null,this._ready=!1,this._dbInfo=null;for(var r=0;r<c.length;r++)e(this,c[r]);this.setDriver(this._config.driver)}var o="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?require("promise"):this.Promise,i={},a={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},u=[a.INDEXEDDB,a.WEBSQL,a.LOCALSTORAGE],c=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],s={DEFINE:1,EXPORT:2,WINDOW:3},f={description:"",driver:u.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},l=s.WINDOW;"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?l=s.EXPORT:"function"==typeof define&&define.amd&&(l=s.DEFINE);var d=function(e){var n=n||e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.OIndexedDB||e.msIndexedDB,t={};return t[a.WEBSQL]=!!e.openDatabase,t[a.INDEXEDDB]=!!function(){if("undefined"!=typeof e.openDatabase&&e.navigator&&e.navigator.userAgent&&/Safari/.test(e.navigator.userAgent)&&!/Chrome/.test(e.navigator.userAgent))return!1;try{return n&&"function"==typeof n.open&&"undefined"!=typeof e.IDBKeyRange}catch(t){return!1}}(),t[a.LOCALSTORAGE]=!!function(){try{return e.localStorage&&"setItem"in e.localStorage&&e.localStorage.setItem}catch(n){return!1}}(),t}(this),v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},h=this;r.prototype.INDEXEDDB=a.INDEXEDDB,r.prototype.LOCALSTORAGE=a.LOCALSTORAGE,r.prototype.WEBSQL=a.WEBSQL,r.prototype.config=function(e){if("object"==typeof e){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var n in e)"storeName"===n&&(e[n]=e[n].replace(/\W/g,"_")),this._config[n]=e[n];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},r.prototype.defineDriver=function(e,n,r){var a=new o(function(n,r){try{var a=e._driver,u=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),s=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void r(u);if(t(e._driver))return void r(s);for(var f=c.concat("_initStorage"),l=0;l<f.length;l++){var v=f[l];if(!v||!e[v]||"function"!=typeof e[v])return void r(u)}var h=o.resolve(!0);"_support"in e&&(h=e._support&&"function"==typeof e._support?e._support():o.resolve(!!e._support)),h.then(function(t){d[a]=t,i[a]=e,n()},r)}catch(p){r(p)}});return a.then(n,r),a},r.prototype.driver=function(){return this._driver||null},r.prototype.ready=function(e){var n=this,t=new o(function(e,t){n._driverSet.then(function(){null===n._ready&&(n._ready=n._initStorage(n._config)),n._ready.then(e,t)})["catch"](t)});return t.then(e,e),t},r.prototype.setDriver=function(e,n,r){function a(){u._config.driver=u.driver()}var u=this;return"string"==typeof e&&(e=[e]),this._driverSet=new o(function(n,r){var a=u._getFirstSupportedDriver(e),c=new Error("No available storage method found.");if(!a)return u._driverSet=o.reject(c),void r(c);if(u._dbInfo=null,u._ready=null,t(a)){var f=new o(function(e){if(l===s.DEFINE)require([a],e);else if(l===s.EXPORT)switch(a){case u.INDEXEDDB:e(require("./drivers/indexeddb"));break;case u.LOCALSTORAGE:e(require("./drivers/localstorage"));break;case u.WEBSQL:e(require("./drivers/websql"))}else e(h[a])});f.then(function(e){u._extend(e),n()})}else i[a]?(u._extend(i[a]),n()):(u._driverSet=o.reject(c),r(c))}),this._driverSet.then(a,a),this._driverSet.then(n,r),this._driverSet},r.prototype.supports=function(e){return!!d[e]},r.prototype._extend=function(e){n(this,e)},r.prototype._getFirstSupportedDriver=function(e){if(e&&v(e))for(var n=0;n<e.length;n++){var t=e[n];if(this.supports(t))return t}return null},r.prototype.createInstance=function(e){return new r(e)};var p=new r;l===s.DEFINE?define("localforage",function(){return p}):l===s.EXPORT?module.exports=p:this.localforage=p}.call(window);